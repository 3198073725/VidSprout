# MediaCMS Windows å¼€å‘ç¯å¢ƒå¿«é€Ÿæ£€æŸ¥æ¸…å•

## âœ… ç¯å¢ƒæ£€æŸ¥æ¸…å•

è¿è¡Œ `check-env.bat` è„šæœ¬è¿›è¡Œè‡ªåŠ¨æ£€æŸ¥ï¼Œæˆ–æ‰‹åŠ¨æ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

### åŸºç¡€ç¯å¢ƒ
- [ ] Python 3.11+ å·²å®‰è£…
- [ ] pip å·²å®‰è£…
- [ ] Node.js 20.19.0+ å·²å®‰è£…
- [ ] npm å·²å®‰è£…
- [ ] Git å·²å®‰è£…

### æ•°æ®åº“å’ŒæœåŠ¡
- [ ] PostgreSQL 15+ å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] Redis å·²å®‰è£…å¹¶è¿è¡Œï¼ˆWSL æˆ– Memuraiï¼‰
- [ ] PostgreSQL æ•°æ®åº“ `mediacms` å·²åˆ›å»º
- [ ] PostgreSQL ç”¨æˆ· `mediacms` å·²åˆ›å»º

### åª’ä½“å¤„ç†å·¥å…·
- [ ] FFmpeg å·²å®‰è£…å¹¶æ·»åŠ åˆ° PATH
- [ ] ImageMagick å·²å®‰è£…å¹¶æ·»åŠ åˆ° PATH

### é¡¹ç›®ç¯å¢ƒ
- [ ] Python è™šæ‹Ÿç¯å¢ƒå·²åˆ›å»ºï¼ˆ`venv/`ï¼‰
- [ ] Python ä¾èµ–å·²å®‰è£…ï¼ˆ`pip install -r requirements.txt`ï¼‰
- [ ] å‰ç«¯ä¾èµ–å·²å®‰è£…ï¼ˆ`cd frontend-vue && npm install`ï¼‰
- [ ] æ•°æ®åº“è¿ç§»å·²å®Œæˆï¼ˆ`python manage.py migrate`ï¼‰
- [ ] åˆå§‹æ•°æ®å·²åŠ è½½ï¼ˆ`python manage.py loaddata fixtures/*.json`ï¼‰
- [ ] è¶…çº§ç”¨æˆ·å·²åˆ›å»ºï¼ˆ`python manage.py createsuperuser`ï¼‰

### é…ç½®æ–‡ä»¶
- [ ] `cms/local_settings.py` å·²åˆ›å»ºå¹¶é…ç½®
- [ ] `frontend-vue/.env.development` å·²åˆ›å»ºå¹¶é…ç½®

## ğŸš€ å¯åŠ¨æ£€æŸ¥æ¸…å•

å¯åŠ¨æœåŠ¡å‰ï¼Œç¡®ä¿ï¼š

- [ ] Redis æœåŠ¡æ­£åœ¨è¿è¡Œ
- [ ] PostgreSQL æœåŠ¡æ­£åœ¨è¿è¡Œ
- [ ] æ‰€æœ‰ç»ˆç«¯çª—å£å·²å‡†å¤‡å°±ç»ªï¼ˆè‡³å°‘éœ€è¦ 5 ä¸ªç»ˆç«¯ï¼‰

## ğŸ“ å¯åŠ¨é¡ºåº

1. **Redis**ï¼ˆå¦‚æœä½¿ç”¨ WSLï¼š`wsl -e bash -c "sudo service redis-server start"`ï¼‰
2. **Celery Worker (çŸ­ä»»åŠ¡)**
3. **Celery Worker (é•¿ä»»åŠ¡)**
4. **Celery Beat**
5. **Django åç«¯**
6. **Vue å‰ç«¯**

æˆ–ä½¿ç”¨ `start-dev.bat` ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚

## ğŸ” éªŒè¯æ¸…å•

å¯åŠ¨åéªŒè¯ï¼š

- [ ] Django åç«¯ï¼šhttp://localhost:8000/admin
- [ ] API æ–‡æ¡£ï¼šhttp://localhost:8000/api/v1/
- [ ] Vue å‰ç«¯ï¼šhttp://localhost:8080
- [ ] å¯ä»¥ç™»å½•ç³»ç»Ÿ
- [ ] å¯ä»¥ä¸Šä¼ åª’ä½“æ–‡ä»¶
- [ ] è§†é¢‘å¯ä»¥æ­£å¸¸æ’­æ”¾

## âš ï¸ å¸¸è§é—®é¢˜

### Redis è¿æ¥å¤±è´¥
- æ£€æŸ¥ Redis æ˜¯å¦è¿è¡Œï¼š`redis-cli ping`
- å¦‚æœä½¿ç”¨ WSLï¼Œç¡®ä¿ WSL å·²å¯åŠ¨
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

### PostgreSQL è¿æ¥å¤±è´¥
- æ£€æŸ¥ PostgreSQL æœåŠ¡æ˜¯å¦è¿è¡Œï¼ˆservices.mscï¼‰
- æ£€æŸ¥æ•°æ®åº“å’Œç”¨æˆ·æ˜¯å¦åˆ›å»º
- æ£€æŸ¥å¯†ç æ˜¯å¦æ­£ç¡®

### FFmpeg æœªæ‰¾åˆ°
- æ£€æŸ¥ FFmpeg æ˜¯å¦åœ¨ PATH ä¸­
- æ‰‹åŠ¨æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡

### ç«¯å£è¢«å ç”¨
- Django åç«¯é»˜è®¤ç«¯å£ï¼š8000
- Vue å‰ç«¯é»˜è®¤ç«¯å£ï¼š8080
- æ£€æŸ¥ç«¯å£å ç”¨ï¼š`netstat -ano | findstr :8000`

