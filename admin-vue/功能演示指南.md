# 📖 MediaCMS 管理后台 - 功能演示指南

## 🎯 目录

1. [登录系统](#1-登录系统)
2. [仪表板](#2-仪表板)
3. [媒体管理](#3-媒体管理)
4. [用户管理](#4-用户管理)
5. [评论管理](#5-评论管理)
6. [系统监控](#6-系统监控)

---

## 1. 登录系统

### 访问地址

开发环境: `http://localhost:5174/admin/`

### 登录步骤

1. **打开登录页面**
   - 输入用户名和密码
   - 点击"登录"按钮

2. **权限验证**
   - 系统会自动检查用户是否有管理员权限
   - 只有 `is_staff=True` 或 `is_superuser=True` 的用户才能登录

3. **登录成功**
   - 自动跳转到仪表板
   - Token 保存在 localStorage
   - 顶部显示用户头像和姓名

### 测试账号

如果没有管理员账号，创建一个：

```bash
python manage.py createsuperuser
# 按提示输入用户名、邮箱和密码
```

---

## 2. 仪表板

路径: `/admin/dashboard`

### 功能区域

#### 2.1 统计卡片（顶部）

显示四个关键指标：

| 指标 | 说明 | 颜色 |
|------|------|------|
| 总媒体数 | 平台上传的所有媒体数量 | 蓝色 |
| 总用户数 | 注册用户总数 | 绿色 |
| 今日观看 | 今天的播放次数 | 橙色 |
| 待审核 | 需要审核的内容数量 | 红色 |

#### 2.2 快捷操作（第二行）

一键跳转到常用功能：

```
[媒体管理] [用户管理] [评论管理] [系统监控]
```

点击任意按钮直接跳转到对应页面。

#### 2.3 数据图表（中间）

**左侧 - 媒体上传趋势**
- 折线图显示最近 30 天的上传量
- 鼠标悬停查看具体日期和数量
- 蓝色渐变填充

**右侧 - 媒体类型分布**
- 环形饼图显示媒体类型占比
- 包含：视频、图片、音频、PDF
- 鼠标悬停显示百分比

#### 2.4 系统状态和活动（底部）

**左侧 - 系统状态**
- CPU 使用率进度条
- 内存使用率进度条
- 磁盘使用率进度条
- 颜色编码：绿色（正常）、橙色（警告）、红色（危险）

**右侧 - 最近活动**
- 时间线展示最新的系统活动
- 显示时间和活动内容

---

## 3. 媒体管理

路径: `/admin/media/list`

### 3.1 搜索和筛选

**搜索框**
- 输入媒体标题关键词
- 按回车或点击搜索图标

**状态筛选**
- 全部 / 公开 / 私密 / 仅限链接

**精选筛选**
- 全部 / 精选 / 普通

### 3.2 批量操作

**步骤**:
1. 勾选要操作的媒体（表格最左侧的复选框）
2. 批量操作栏自动显示（蓝色虚线边框）
3. 选择操作类型：

| 操作 | 说明 | 颜色 |
|------|------|------|
| 批量推荐 | 设为精选媒体 | 蓝色 |
| 取消推荐 | 取消精选状态 | 灰色 |
| 设为公开 | 修改状态为 public | 绿色 |
| 设为私密 | 修改状态为 private | 橙色 |
| 批量删除 | 删除选中的媒体 | 红色 |

4. 点击操作按钮
5. 确认对话框中点击"确定"
6. 等待操作完成（显示成功消息）
7. 列表自动刷新，选择自动清空

### 3.3 单个媒体操作

每行媒体右侧有三个按钮：

**查看** 👁️
- 在新标签页打开媒体详情
- 跳转到主站的媒体播放页面

**编辑** ✏️
- 跳转到媒体详情编辑页面
- 可修改标题、描述、分类等

**删除** 🗑️
- 弹出确认对话框
- 删除后不可恢复

### 3.4 表格功能

**列说明**:
- 复选框 - 用于批量选择
- 缩略图 - 点击可放大查看
- 标题 - 媒体标题（鼠标悬停显示完整标题）
- 类型 - video/image/audio/pdf
- 状态 - 公开/私密/仅限链接
- 精选 - ⭐ 图标表示已精选
- 观看 - 播放次数（可排序）
- 点赞 - 点赞数量（可排序）
- 作者 - 上传用户
- 上传时间 - 格式：YYYY-MM-DD HH:mm

**分页器**:
- 显示总数
- 每页数量可选：10 / 20 / 50 / 100
- 上一页 / 下一页
- 页码直接跳转

---

## 4. 用户管理

路径: `/admin/users/list`

### 4.1 用户列表

**表格列**:
- 头像 - 用户头像或默认图标
- 用户名 - 登录名
- 姓名 - 真实姓名
- 邮箱 - 注册邮箱
- 角色 - 超级管理员/管理员/普通用户
- 状态 - 活跃/已封禁
- 注册时间 - YYYY-MM-DD HH:mm
- 最后登录 - YYYY-MM-DD HH:mm

### 4.2 筛选功能

**角色筛选**:
- 全部用户
- 超级管理员
- 管理员
- 编辑
- 普通用户

**状态筛选**:
- 活跃
- 已封禁

### 4.3 用户操作

**查看** 👁️
- 弹出用户详情对话框
- 显示完整的用户信息

**编辑** ✏️
- 跳转到用户编辑页面
- 可修改用户信息和权限

**封禁/解封** 🔒
- 封禁：禁止用户登录
- 解封：恢复用户登录权限
- 需要确认

### 4.4 批量操作

勾选多个用户后可以：
- 批量封禁
- 批量解封
- 批量删除

---

## 5. 评论管理

路径: `/admin/content/comments`

### 5.1 评论列表

**显示内容**:
- 评论内容（缩略）
- 用户名
- 所属媒体
- 状态（待审核/已通过/已拒绝）
- 评论时间

**展开功能**:
- 点击左侧的 ▼ 图标
- 查看完整的评论内容
- 显示评论的详细信息

### 5.2 评论审核

**待审核评论**:
- 显示"待审核"标签（橙色）
- 操作按钮：通过 ✅ / 拒绝 ❌

**通过** ✅
- 评论将对所有用户可见
- 状态变为"已通过"（绿色）

**拒绝** ❌
- 评论不会显示
- 状态变为"已拒绝"（红色）

**删除** 🗑️
- 永久删除评论
- 需要确认

### 5.3 批量操作

勾选多条评论后可以：
- 批量通过
- 批量拒绝
- 批量删除

---

## 6. 系统监控

路径: `/admin/system/monitoring`

### 6.1 系统资源监控（顶部卡片）

**CPU 使用率**
- 显示当前 CPU 占用百分比
- 进度条颜色指示状态
- 绿色：< 60%（正常）
- 橙色：60%-80%（警告）
- 红色：> 80%（危险）

**内存使用率**
- 显示当前内存占用百分比
- 同样的颜色编码

**磁盘使用率**
- 显示磁盘空间占用百分比
- 同样的颜色编码

**网络流量**
- 显示当前网络速度（MB/s）
- ↑ 上传速度
- ↓ 下载速度

### 6.2 系统资源趋势图

**时间范围选择**:
- 1 小时
- 6 小时
- 24 小时

**图表内容**:
- 折线图显示历史数据
- 可以看到资源使用趋势
- 鼠标悬停查看具体时间点的数值

### 6.3 系统信息

显示服务器的详细信息：
- 操作系统
- 主机名
- Python 版本
- Django 版本
- 运行时间
- 数据库类型

### 6.4 运行进程

显示当前运行的关键进程：
- PID - 进程 ID
- 进程名称
- CPU 占用
- 内存占用
- 状态

**刷新**:
点击"刷新"按钮手动更新进程列表

**自动刷新**:
页面每 5 秒自动刷新系统状态数据

---

## 🎯 使用技巧

### 技巧 1：快速搜索

在搜索框中输入关键词后，按 **Enter** 键立即搜索，无需点击按钮。

### 技巧 2：批量操作

批量操作时，可以跨页选择。选中的项目会一直保留，直到你：
- 完成批量操作
- 点击"清空选择"
- 手动取消勾选

### 技巧 3：表格排序

点击表格列头（如"观看"、"点赞"）可以按该列排序。

### 技巧 4：主题切换

点击顶栏的 ☀️/🌙 图标可以切换亮色/暗色主题。

### 技巧 5：侧边栏收起

点击顶栏左侧的 ☰ 图标可以收起/展开侧边栏，节省屏幕空间。

### 技巧 6：全屏模式

点击顶栏的全屏图标可以进入全屏模式，专注于数据。

### 技巧 7：返回主站

点击顶栏的"主站"按钮可以在新标签页打开主站。

---

## 🔥 常见场景

### 场景 1：批量审核新上传的媒体

```
1. 进入媒体管理
2. 筛选"待审核"状态
3. 勾选要通过的媒体
4. 点击"批量推荐"或"设为公开"
5. 确认操作
```

### 场景 2：处理用户举报的评论

```
1. 进入评论管理
2. 筛选"待审核"状态
3. 点击评论展开查看详情
4. 点击"拒绝"或"删除"
5. 确认操作
```

### 场景 3：检查系统性能

```
1. 进入系统监控
2. 查看 CPU、内存、磁盘使用率
3. 如果某项超过 80%，显示红色警告
4. 查看资源趋势图，了解历史变化
5. 查看运行进程，找出占用资源最多的进程
```

### 场景 4：查找特定用户

```
1. 进入用户管理
2. 在搜索框输入用户名或邮箱
3. 按 Enter 搜索
4. 点击"查看"按钮查看详情
5. 点击"编辑"修改信息（如有权限）
```

---

## ⚠️ 注意事项

### 删除操作

- ✋ 所有删除操作都不可撤销
- ✋ 删除前会弹出确认对话框
- ✋ 建议先将状态改为"私密"而非直接删除

### 批量操作

- ✋ 批量操作会影响所有选中的项目
- ✋ 请仔细检查选中的项目
- ✋ 建议分批操作，避免一次操作过多项目

### 权限限制

- ✋ 普通用户看不到管理后台
- ✋ 某些操作可能需要超级管理员权限
- ✋ 无权限时会显示错误提示

### 数据刷新

- ✋ 列表数据不会自动刷新
- ✋ 需要手动点击"刷新"按钮
- ✋ 或重新进入页面

---

## 🐛 问题排查

### 问题 1：无法登录

**可能原因**:
- 用户名或密码错误
- 用户没有管理员权限
- Token 已过期

**解决方法**:
1. 检查用户名和密码
2. 确认用户是 `is_staff=True` 或 `is_superuser=True`
3. 清除浏览器缓存重新登录

### 问题 2：数据不显示

**可能原因**:
- API 请求失败
- 后端服务未启动
- 网络连接问题

**解决方法**:
1. 打开浏览器开发者工具（F12）
2. 查看 Network 标签页
3. 检查 API 请求是否成功
4. 确认 Django 后端正在运行

### 问题 3：批量操作失败

**可能原因**:
- 选中的项目过多
- 网络超时
- 权限不足

**解决方法**:
1. 减少单次操作的项目数量
2. 检查网络连接
3. 确认有相应的操作权限

---

## 📚 键盘快捷键

| 快捷键 | 功能 |
|--------|------|
| `Enter` | 搜索框中触发搜索 |
| `Esc` | 关闭对话框 |
| `F5` | 刷新页面 |
| `Ctrl + F` | 浏览器内页面搜索 |
| `F11` | 全屏/退出全屏 |

---

## 🎓 进阶使用

### 自定义筛选

组合使用多个筛选条件，精确定位目标数据：

**示例**:
```
媒体管理
├─ 搜索: "教程"
├─ 状态: "公开"
└─ 精选: "精选"

结果: 所有公开的、精选的、标题包含"教程"的媒体
```

### 数据导出

**计划功能**（待实现）:
- 导出媒体列表为 Excel
- 导出用户列表为 CSV
- 导出评论列表为 JSON

### 定时任务

**计划功能**（待实现）:
- 定时清理过期数据
- 定时生成统计报表
- 定时备份数据库

---

## ✅ 检查清单

使用管理后台时，建议定期检查：

**每日检查**:
- [ ] 待审核内容数量
- [ ] 系统资源使用情况
- [ ] 用户举报和反馈

**每周检查**:
- [ ] 用户增长趋势
- [ ] 媒体上传趋势
- [ ] 存储空间使用情况

**每月检查**:
- [ ] 系统性能报告
- [ ] 用户活跃度统计
- [ ] 内容质量评估

---

**🎊 祝你使用愉快！如有问题，请查阅文档或联系技术支持。**

